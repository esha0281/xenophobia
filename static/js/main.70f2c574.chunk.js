(this["webpackJsonpimplicit-bias"]=this["webpackJsonpimplicit-bias"]||[]).push([[0],{28:function(e,t,a){e.exports=a(40)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(18),l=a(7),c=a(11),o=a(6),i=a(10),u=[{id:"power-happiness",name:"African test",description:"",targetType:"nationality",categoryType:"type of person",compatible:{south_african:"good_person",african:"bad_person"}}];function m(){return n.a.createElement("div",null,n.a.createElement("h4",{class:"header center red-text text-darken-4"},"Pick an implicit association test to take:"),n.a.createElement("section",{className:"test-list"},u.map((function(e){var t=e.name,a=e.description,r=e.id;return n.a.createElement("div",{className:"test-option",key:r},n.a.createElement("h4",{class:"header center grey-text"},n.a.createElement(o.b,{to:"/test/".concat(r)},t)),n.a.createElement("p",{class:"center"},a))}))))}function p(){return n.a.createElement("div",null,n.a.createElement("h1",{class:"header center red-text text-darken-4"},"Implicit Association Tool"),n.a.createElement("div",{class:"row center"},n.a.createElement("h5",{class:"header col s12 light"},n.a.createElement("p",null,"Uncover and discuss the underlying biases we share."))),n.a.createElement("div",{class:"divider"}),n.a.createElement(m,null))}function d(){return n.a.createElement("div",null,n.a.createElement("h2",null,"About"),n.a.createElement("p",null,"This is a tool to roughly measure implicit association bias."))}var E="START_TEST",h="START_BLOCK",g="SET_COMPATIBLE_MILLISECONDS",T="SET_INCOMPATIBLE_MILLISECONDS",f="FINISH_BLOCK",y="FINISH_TEST",b="RESET_TEST",O=a(12),v=a(13),I=a(15),L=a(14),C=a(16);function k(){return n.a.createElement("div",{className:"error"},n.a.createElement("h2",null,"Test error"),n.a.createElement("div",null,"Apologies, we encountered an unexpected error. Please try returning to the ",n.a.createElement(o.b,{to:"/home"},"home page"),"."))}var N={INCOMPATIBLE_TARGETS_ONLY:"INCOMPATIBLE_TARGETS_ONLY",INCOMPATIBLE_ALL:"INCOMPATIBLE_ALL",CATEGORIES_ONLY:"CATEGORIES_ONLY",COMPATIBLE_TARGETS_ONLY:"COMPATIBLE_TARGETS_ONLY",COMPATIBLE_ALL:"COMPATIBLE_ALL"},A=N;var B=[{numTrials:2,displayType:A.INCOMPATIBLE_TARGETS_ONLY},{numTrials:2,displayType:A.CATEGORIES_ONLY},{numTrials:2,displayType:A.INCOMPATIBLE_ALL},{numTrials:4,displayType:A.INCOMPATIBLE_ALL,critical:!0},{numTrials:2,displayType:A.COMPATIBLE_TARGETS_ONLY},{numTrials:2,displayType:A.COMPATIBLE_ALL},{numTrials:4,displayType:A.COMPATIBLE_ALL,critical:!0}],M=function(e){switch(e){case"E":return"e";case"I":return"i";case"space bar":return" ";default:return null}},S={LEFT:"E",RIGHT:"I",START_KEY:"space bar"},P={south_african:["white south africans","black south africans","colored  south africans","malay","indiginous"],african:["congolese","kenyans","nigerians","somalians","zimbabweans"],good_person:["job-promoter","doctor","lawyer","good-samaritan","philanthropist","police officer","humanitarian"],bad_person:["job-stealer","murderer","rapist","troubled","burglarer","drug-trafficker","fraudster"]},R=function(e){return e?e.split(/[ _]/).map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).reduce((function(e,t){return e?"".concat(e," ").concat(t):t}),""):e},_={TARGET:"target",CATEGORY:"category"},w={LEFT:"LEFT",RIGHT:"RIGHT"},j=[_.TARGET,_.CATEGORY],G=[w.LEFT,w.RIGHT],x=function(e){function t(){var e;return Object(O.a)(this,t),(e=Object(I.a)(this,Object(L.a)(t).call(this))).valuesForOptions=function(t,a){return t===_.TARGET?a===w.LEFT?e.props.leftTargetValues:e.props.rightTargetValues:a===w.LEFT?e.props.leftCategoryValues:e.props.rightCategoryValues},e.startNewRound=function(){var t=e.state.currentRound+1;if(t>=e.props.currentBlock.numTrials)return e.props.dispatchFinishBlock();var a=e.props.soleTargetOrCategory?e.props.soleTargetOrCategory:j[t%2],r=G[Math.round(Math.random())],n=e.valuesForOptions(a,r).filter((function(t){return-1===[e.state.valueToDisplay,e.state.lastValueToDisplay].indexOf(t)})),s=n[Math.floor(Math.random()*Math.floor(n.length-1))];return e.setState({currentRound:t,targetOrCategory:a,leftOrRight:r,valueToDisplay:s,lastValueToDisplay:e.state.valueToDisplay,incorrectKeyPressed:!1})},e.handleKeyPress=function(t){switch(t.key){case M(S.LEFT):return e.handleLeftKeyPress();case M(S.RIGHT):return e.handleRightKeyPress();default:return}},e.handleLeftKeyPress=function(){if(e.state.leftOrRight===w.LEFT)return e.startNewRound();e.state.leftOrRight===w.RIGHT&&e.displayIncorrectKeySign()},e.handleRightKeyPress=function(){if(e.state.leftOrRight===w.RIGHT)return e.startNewRound();e.state.leftOrRight===w.LEFT&&e.displayIncorrectKeySign()},e.displayIncorrectKeySign=function(){e.setState({incorrectKeyPressed:!0})},e.state={currentRound:-1},e}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){this.props.currentBlock&&this.props.currentBlock.critical&&this.setState({timeStarted:Date.now()}),document.addEventListener("keyup",this.handleKeyPress),this.startNewRound()}},{key:"componentWillUnmount",value:function(){if(document.removeEventListener("keyup",this.handleKeyPress),this.props.currentBlock.critical){var e=Date.now()-this.state.timeStarted;this.props.currentBlock.displayType===A.COMPATIBLE_ALL?this.props.dispatchSetCompatibleMilliseconds(e):this.props.dispatchSetIncompatibleMilliseconds(e)}this.props.currentTest.currentBlockIndex===B.length-1&&this.props.dispatchFinishTest()}},{key:"render",value:function(){var e=this.props.currentBlock,t=this.state,a=t.valueToDisplay,r=t.targetOrCategory,s=t.incorrectKeyPressed;return e?n.a.createElement("div",null,n.a.createElement("div",{className:"displayed-test-value ".concat(r)},R(a)),n.a.createElement("div",{className:"incorrect-key-x"},s&&"X"),n.a.createElement("p",null,"If you make a mistake, a red ",n.a.createElement("span",{className:"bold-red"},"X")," will appear. Press the other key to continue.")):n.a.createElement(k,null)}}]),t}(n.a.Component),Y=function(e,t){return e&&!t?_.TARGET:!e&&t?_.CATEGORY:null},K=Object(l.b)((function(e,t){var a=e.currentTest,r=t.leftTarget,n=t.leftCategory,s=t.rightTarget,l=t.rightCategory;return{currentTest:a,currentBlock:B[a.currentBlockIndex],leftTargetValues:r?P[r]:null,rightTargetValues:s?P[s]:null,leftCategoryValues:n?P[n]:null,rightCategoryValues:l?P[l]:null,soleTargetOrCategory:Y(r,n)}}),(function(e){return{dispatchFinishBlock:function(){return e({type:f})},dispatchFinishTest:function(){return e({type:y})},dispatchSetCompatibleMilliseconds:function(t){return e({type:g,compatibleMilliseconds:t})},dispatchSetIncompatibleMilliseconds:function(t){return e({type:T,incompatibleMilliseconds:t})}}}))(x),F=function(e,t,a,r){var s=!!t&&!a,l=!t&&!!a,c=r?S.LEFT:S.RIGHT,o=r?"left":"right";if(s||l){var i=s?"target":"category",u=s?t:a,m=n.a.createElement("span",{className:i},u);return e<2?n.a.createElement("p",null,"Put a ",o," finger on the ",n.a.createElement("a",{class:"btn disabled"},n.a.createElement("strong",null,c))," key for items that belong to the category ",m,"."):n.a.createElement("p",null,"Use the ",n.a.createElement("a",{class:"btn disabled"},n.a.createElement("strong",null,c)," "),"key for ",m)}return n.a.createElement("p",null,"Use the",n.a.createElement("a",{class:"btn disabled"}," ",n.a.createElement("strong",null,c)," "),"key for ",n.a.createElement("span",{className:"target"},t)," and for ",n.a.createElement("span",{className:"category"},a),".")},D=function(e,t){return 0===e?n.a.createElement("p",null,"Items will appear one at a time."):t?n.a.createElement("p",null,"'Each item belongs to only one category."):null};function H(e){var t=e.currentBlockIndex,a=e.leftTarget,r=e.leftCategory,s=e.rightTarget,l=e.rightCategory,c=F(t,R(a),R(r),!0),o=F(t,R(s),R(l),!1),i=D(t,a&&r);return n.a.createElement("div",null,c,o,!!i&&i,n.a.createElement("p",null,"If you make a mistake, a red ",n.a.createElement("span",{className:"bold-red"},"X")," will appear. Press the other key to continue."),n.a.createElement("p",null,"Go as fast as you can while being accurate."),n.a.createElement("div",{class:"divider"}),n.a.createElement("h4",{class:"header center red-text text-darken-4"},"Ready?"),n.a.createElement("div",{class:"row center"},n.a.createElement("h5",null," ",n.a.createElement("p",null,"Press the ",n.a.createElement("a",{class:"btn disabled"}," ",n.a.createElement("strong",null,S.START_KEY))," when you are ready to start."))))}var V=function(e){function t(){var e,a;Object(O.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(I.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(n)))).handleKeyPress=function(e){e.key===M(S.START_KEY)&&a.props.startBlock()},a}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props,t=e.currentBlockIndex,a=e.leftTarget,r=e.rightTarget,s=e.leftCategory,l=e.rightCategory,c=t+1,o=Object.keys(B).length;return n.a.createElement("div",{className:"block-pre-test"},n.a.createElement("h3",{class:"header center red-text text-darken-4"},"Part ",c," of ",o),n.a.createElement("div",{class:"center"},n.a.createElement(H,{currentBlockIndex:t,leftTarget:a,rightTarget:r,leftCategory:s,rightCategory:l})))}}]),t}(r.Component);function W(e){var t=e.target,a=e.category;return n.a.createElement("div",{className:"target-and-or-category"},!!t&&n.a.createElement("div",{className:"target"},R(t)),!!t&&!!a&&n.a.createElement("div",{className:"or-separator"},"or"),!!a&&n.a.createElement("div",{className:"category"},R(a)))}var U=Object(l.b)((function(e){return{currentTest:e.currentTest}}),(function(e){return{dispatchStartBlock:function(){return e({type:h})}}}))((function(e){var t=e.test,a=e.currentTest,r=e.dispatchStartBlock,s=B[a.currentBlockIndex];if(!s)return n.a.createElement(k,null);var l=function(e,t){var a={leftTarget:null,rightTarget:null,leftCategory:null,rightCategory:null},r=Object.keys(t),n=r.slice().reverse(),s=Object.values(t);switch(e){case N.CATEGORIES_ONLY:return Object.assign(a,{leftCategory:s[0],rightCategory:s[1]});case N.COMPATIBLE_ALL:return Object.assign(a,{leftTarget:r[0],rightTarget:r[1],leftCategory:s[0],rightCategory:s[1]});case N.COMPATIBLE_TARGETS_ONLY:return Object.assign(a,{leftTarget:r[0],rightTarget:r[1]});case N.INCOMPATIBLE_ALL:return Object.assign(a,{leftTarget:n[0],rightTarget:n[1],leftCategory:s[0],rightCategory:s[1]});case N.INCOMPATIBLE_TARGETS_ONLY:return Object.assign(a,{leftTarget:n[0],rightTarget:n[1]});default:return a}}(s.displayType,t.compatible),c=l.leftTarget,o=l.rightTarget,i=l.leftCategory,u=l.rightCategory;return n.a.createElement("div",{className:"test-block"},n.a.createElement("section",{className:"selection-groups"},n.a.createElement("div",{className:"left-selection-group"},n.a.createElement("h6",null,'Press "',S.LEFT,'" for'),n.a.createElement(W,{target:c,category:i})),n.a.createElement("div",{className:"right-selection-group"},n.a.createElement("h6",null,'Press "',S.RIGHT,'" for'),n.a.createElement(W,{target:o,category:u}))),a.blockStarted?n.a.createElement(K,{currentTest:a,leftTarget:c,rightTarget:o,leftCategory:i,rightCategory:u}):n.a.createElement(V,{currentBlockIndex:a.currentBlockIndex,leftTarget:c,rightTarget:o,leftCategory:i,rightCategory:u,startBlock:function(){return r()}}))})),X={NONE:"NO_BIAS",COMPATIBLE:"COMPATIBLE",INCOMPATIBLE:"INCOMPATIBLE"},J=function(e){function t(){return Object(O.a)(this,t),Object(I.a)(this,Object(L.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"componentWillUnmount",value:function(){this.props.dispatchResetTest()}},{key:"render",value:function(){var e=this.props,t=e.test,a=e.currentTest,r=function(e,t){var a=t.targetType,r=t.categoryType,s=t.compatible,l=Object.keys(s),c=Object.values(s),o=c[0],i=c[1];switch(e){case X.NONE:return n.a.createElement("p",{className:"result-headline"},"Your responses suggest no automatic association between ",n.a.createElement("span",{className:"target"},a)," and ",n.a.createElement("span",{className:"category"},r),".");case X.COMPATIBLE:return n.a.createElement("h4",{className:"result-headline"},"Your responses suggest an automatic association for ",n.a.createElement("span",{className:"target"},R(l[0]))," with ",n.a.createElement("span",{className:"category"},R(o))," and ",n.a.createElement("span",{className:"target"},R(l[1]))," with ",n.a.createElement("span",{className:"category"},R(i)),".");case X.INCOMPATIBLE:var u=l.slice().reverse();return n.a.createElement("h4",{className:"result-headline"},"Your responses suggest an automatic association for ",n.a.createElement("span",{className:"target"},R(u[0]))," with ",n.a.createElement("span",{className:"category"},R(o))," and ",n.a.createElement("span",{className:"target"},R(u[1]))," with ",n.a.createElement("span",{className:"category"},R(i)),".");default:return"We were unable to calculate your results due to an unexpected error."}}(function(e,t){var a=e-t;return Math.abs(a)<=1e3?X.NONE:a>0?X.COMPATIBLE:X.INCOMPATIBLE}(a.incompatibleMilliseconds,a.compatibleMilliseconds),t);return n.a.createElement("div",null,n.a.createElement("h2",null,"Results"),r,n.a.createElement("p",null,"More info about results to come..."),n.a.createElement(o.b,{to:"/home"},"Back to home"))}}]),t}(r.Component),q=Object(l.b)((function(){return{}}),(function(e){return{dispatchResetTest:function(){return e({type:b})}}}))(J);function z(){return n.a.createElement("div",{className:"test-not-found"},n.a.createElement("h2",null,"Test not found"),n.a.createElement("p",null,"We could not find a test with that id. You can find our full lists of tests at the ",n.a.createElement(o.b,{to:"/home"},"home page"),"."))}function $(e){var t=e.test,a=e.onStartTestButtonPress;return n.a.createElement("div",null,n.a.createElement("h2",null,"Welcome"),n.a.createElement("p",null,"You have selected the ",t.name)," test. You will be asked to sort words into groups as quickly as you can.",n.a.createElement("button",{className:"implicit-test-start-button",type:"button",onClick:function(e){return e.preventDefault()&&a()}},"Start test"))}a(38);var Q=Object(l.b)((function(e){return{currentTest:e.currentTest}}),(function(e){return{dispatchStartTest:function(t){return e(function(e){return{type:E,test:e}}(t))}}}))((function(e){var t=e.currentTest,a=e.dispatchStartTest,r=Object(i.f)().testId,s=u.find((function(e){return e.id===r}));return s?t?t.finished?n.a.createElement(q,{test:s,currentTest:t}):n.a.createElement(U,{test:s,currentTest:t}):n.a.createElement($,{test:s,onStartTestButtonPress:function(){return a(s)}}):n.a.createElement(z,null)}));var Z={blockStarted:!1,finished:!1,currentBlockIndex:0,test:null,compatibleMilliseconds:null,incompatibleMilliseconds:null};var ee=Object(c.b)({currentTest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object.assign({},e,{test:t.test,currentBlockIndex:0});case h:return Object.assign({},e,{blockStarted:!0});case f:return Object.assign({},e,{currentBlockIndex:e.currentBlockIndex+1,blockStarted:!1});case g:return Object.assign({},e,{compatibleMilliseconds:t.compatibleMilliseconds});case T:return Object.assign({},e,{incompatibleMilliseconds:t.incompatibleMilliseconds});case y:return Object.assign({},e,{finished:!0,blockStarted:!1});case b:return Z;default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(39);var te=Object(c.c)(ee);Object(s.render)(n.a.createElement(l.a,{store:te},n.a.createElement((function(){return n.a.createElement(o.a,null,n.a.createElement("div",{className:"nav-and-content"},n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/test/:testId"},n.a.createElement(Q,null)),n.a.createElement(i.a,{path:"/about"},n.a.createElement(d,null)),n.a.createElement(i.a,{path:"/"},n.a.createElement(p,null)))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.70f2c574.chunk.js.map